import{_ as g}from"./InputText.vue.216b243f.js";import{_ as b}from"./ModalDialog.vue.6eb91331.js";import{_ as v}from"./ModalError.vue.90a3c968.js";import{u as w}from"./useFirebaseDB.43faeb14.js";import{f as x,r as c,o as y,c as C,a as s,b as i,w as u,i as d,F as h,l as k,L as M,M as V,O as $,s as B}from"./entry.7dd48d94.js";const F=s("h3",{class:"font-bold text-lg"},"Введите код игры",-1),S=x({__name:"index",setup(q){const n=c(!1),a=c(""),l=c(""),{ongoingGamesCol:f}=w(),p=async()=>{try{const o=M(f,V("code","==",a.value)),t=(await $(o)).docs[0];if(t){const r=t.id;B("/games/"+r)}else l.value="игра не найдена"}catch(o){o instanceof Error?l.value=o.message:console.error("Unexpected error",o)}};return(o,e)=>{const t=g,r=b,_=v;return y(),C(h,null,[s("div",null,[s("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=m=>n.value=!0)}," Присоединиться к игре ")]),i(r,{"modal-id":"delete-modal","show-modal":d(n)},{title:u(()=>[F]),content:u(()=>[i(t,{modelValue:d(a),"onUpdate:modelValue":e[1]||(e[1]=m=>k(a)?a.value=m:null),"label-title":"Код"},null,8,["modelValue"])]),actions:u(()=>[s("label",{class:"btn",onClick:e[2]||(e[2]=m=>n.value=!1)},"Отмена"),s("button",{class:"btn btn-accent",onClick:p},"Присоединиться")]),_:1},8,["show-modal"]),i(_,{message:d(l)},null,8,["message"])],64)}}});export{S as default};

import{f as h,o as y,c as b,a as r,H as d,t as w,I as x,J as I,K as B}from"./entry.891d1732.js";const D={class:"label"},C=h({__name:"InputFile",props:{labelTitle:{},labelStyle:{default:""},containerStyle:{default:""}},emits:["file-selected"],setup(g,{emit:c}){function n(e){var a;const t=(a=e.target.files)==null?void 0:a[0];t&&c("file-selected",t)}return(e,s)=>(y(),b("div",{class:d(`form-control w-full ${e.containerStyle}`)},[r("label",D,[r("span",{class:d(`label-text text-base-content ${e.labelStyle}`)},w(e.labelTitle),3)]),r("input",{type:"file",class:"file-input file-input-bordered w-full",onChange:s[0]||(s[0]=t=>n(t))},null,32)],2))}});function F(){return{uploadFile:(n,e="images")=>{const{$firestorage:s}=B(),t=x(s,e+"/"+n.name);return I(t,n)},resizeImage:function(n,e){const s=new FileReader;s.onload=t=>{var u;const a=new Image;a.onload=()=>{let l=a.width,o=a.height;if(l>1200||o>1200){l>o?(o*=1200/l,l=1200):(l*=1200/o,o=1200);const i=document.createElement("canvas");i.width=l,i.height=o;const f=i.getContext("2d");f&&(f.drawImage(a,0,0,l,o),i.toBlob(p=>{p&&e(p)},"image/jpeg",.7))}else n.arrayBuffer().then(m=>{e(new Blob([m],{type:n.type}))})},typeof((u=t.target)==null?void 0:u.result)=="string"&&(a.src=t.target.result)},s.readAsDataURL(n)}}}export{C as _,F as u};
